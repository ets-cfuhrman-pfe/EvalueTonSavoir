version: '3'

services: 

  stress-test:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: stress-test
    #environment:
    #  - BASE_URL=http://host.docker.internal
    #  - USER_EMAIL=admin@admin.com
    #  - USER_PASSWORD=admin
    #  - NUMBER_ROOMS=5
    #  - USERS_PER_ROOM=60
    #  - MAX_MESSAGES_ROUND=20
    #  - CONVERSATION_INTERVAL=1000
    #  - MESSAGE_RESPONSE_TIMEOUT=5000
    #  - BATCH_DELAY=1000
    #  - BATCH_SIZE=10
    env_file:
      - .env
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - ./output:/app/output